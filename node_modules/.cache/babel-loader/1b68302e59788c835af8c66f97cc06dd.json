{"ast":null,"code":"var _jsxFileName = \"/home/coder/Documents/login/minted-1.1.0-frontend/src/Components/common/Header.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport MintedBrand from \"../../../src/images/MintedBrand.png\";\nimport SearchBar from './searchbar';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Header = () => {\n  _s();\n\n  const [loggedIn, setlogin] = useState(false);\n  const [userdp, setuserdp] = useState('');\n  const [user, setuser] = useState('a');\n  const identityURL = 'https://identity.bitclout.com';\n  let identityWindow;\n  let userPayload;\n  let dp;\n  let usernow;\n  let data;\n\n  const launchLogin = () => {\n    const h = 1000;\n    const w = 800;\n    const y = window.outerHeight / 2 + window.screenY - h / 2;\n    const x = window.outerWidth / 2 + window.screenX - w / 2;\n    window.addEventListener('message', e => {\n      //console.log('This is event');\n      //console.log(e);\n      if (e.data && e.origin) {\n        if (e.origin === 'https://identity.bitclout.com') {\n          if (e.data.method === 'initialize') {\n            //console.log('initialize');\n            const data = {\n              id: e.data.id,\n              service: 'identity'\n            }; //console.log('this is data');\n            //console.log(data);\n\n            identityWindow.postMessage(data, '*');\n          }\n\n          if (e.data.method == 'login') {\n            //console.log('login');\n            //console.log(e.data);\n            usernow = e.data.payload.publicKeyAdded; //console.log(user)\n\n            setuser(usernow); //console.log(user)\n\n            dp = \"https://bitclout.com/api/v0/get-single-profile-picture/\" + usernow + \"?fallback=https://bitclout.com/assets/img/default_profile_pic.png\";\n            setuserdp(dp); //console.log(user);\n\n            userPayload = e.data.payload.users[user]; //console.log(userPayload)\n\n            identityWindow.close();\n            setlogin(true); //console.log(user)\n\n            payload = {\n              'publickey': usernow\n            }; //console.log('this is data-axios')\n            //console.log(data)\n\n            axios.post(`/userlog`, payload).then(res => {\n              console.log(res);\n              console.log(res.data);\n            }).catch(err => {});\n          }\n        }\n      }\n    });\n    identityWindow = window.open(identityURL + '/log-in', null, `toolbar=no, width=${w}, height=${h}, top=${y}, left=${x}`);\n  };\n\n  const launchLogout = () => {\n    setlogin(false);\n    setuserdp('');\n    setuser('a');\n    usernow = '';\n    axios.get(`http://localhost:5001/userlog/${usernow}`);\n  };\n\n  if (loggedIn == false) {\n    return /*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"navbar navbar-custom\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/\",\n          style: {\n            float: 'left'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: MintedBrand,\n            alt: \"brand\",\n            id: \"brand\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(SearchBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"nav nav-pills\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"nav-link home-tab active enabled\",\n              href: \"#home\",\n              \"data-toggle\": \"tab\",\n              children: \"Explore\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"nav-link disabled\",\n              href: \"#about\",\n              \"data-toggle\": \"tab\",\n              children: \"My Items\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"nav-link disabled\",\n              href: \"#following\",\n              \"data-toggle\": \"tab\",\n              children: \"Following\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"nav-link\",\n              id: \"contact-button\",\n              href: \"mailto: support@minted.ist\",\n              children: \"Contact\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"nav-link\",\n              href: \"#create\",\n              \"data-toggle\": \"tab\",\n              onClick: launchLogin,\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"navbar navbar-custom\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/\",\n          style: {\n            float: 'left'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: MintedBrand,\n            alt: \"brand\",\n            id: \"brand\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(SearchBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"nav nav-pills\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"nav-link home-tab active enabled\",\n              href: \"#home\",\n              \"data-toggle\": \"tab\",\n              children: \"Explore\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"nav-link disabled\",\n              href: \"#about\",\n              \"data-toggle\": \"tab\",\n              children: \"My Items\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"nav-link disabled\",\n              href: \"#following\",\n              \"data-toggle\": \"tab\",\n              children: \"Following\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"nav-link\",\n              id: \"contact-button\",\n              href: \"mailto: support@minted.ist\",\n              children: \"Contact\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"nav-link disabled\",\n              id: \"dp\",\n              href: \"#\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                style: {\n                  height: 50,\n                  width: 50\n                },\n                src: userdp\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 76\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 26\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"nav-link\",\n              href: \"#create\",\n              \"data-toggle\": \"tab\",\n              onClick: launchLogout,\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }, this);\n  }\n};\n\n_s(Header, \"Q5+HuqqcyGyitOl/Ixane3XDAtc=\");\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["/home/coder/Documents/login/minted-1.1.0-frontend/src/Components/common/Header.jsx"],"names":["React","useState","MintedBrand","SearchBar","axios","Header","loggedIn","setlogin","userdp","setuserdp","user","setuser","identityURL","identityWindow","userPayload","dp","usernow","data","launchLogin","h","w","y","window","outerHeight","screenY","x","outerWidth","screenX","addEventListener","e","origin","method","id","service","postMessage","payload","publicKeyAdded","users","close","post","then","res","console","log","catch","err","open","launchLogout","get","float","height","width"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport MintedBrand from \"../../../src/images/MintedBrand.png\";\nimport SearchBar from './searchbar';\nimport axios from 'axios';\nconst Header = () => {\n\n\tconst [loggedIn, setlogin] = useState(false)\n\tconst [userdp , setuserdp] = useState('')\n\tconst [user,setuser] = useState('a')\n\tconst identityURL = 'https://identity.bitclout.com'\n\tlet identityWindow\n\tlet userPayload\n\tlet dp\n\tlet usernow\n\tlet data\n\n\tconst launchLogin = () => {\n\t\tconst h = 1000;\n\t\tconst w = 800;\n\t\tconst y = window.outerHeight/2 + window.screenY - h/2;\n\t\tconst x = window.outerWidth/2 + window.screenX - w/2; \n\n\t\twindow.addEventListener('message', e => {\n\t\t//console.log('This is event');\n\t\t//console.log(e);\n\n\t\tif (e.data && e.origin) {\n\t\t\tif (e.origin === 'https://identity.bitclout.com') {\n\t\t\t\tif (e.data.method === 'initialize') {\n\t\t\t\t//console.log('initialize');\n\t\t\t\tconst data = {id: e.data.id, service: 'identity'};\n\t\t\t\t//console.log('this is data');\n\t\t\t\t//console.log(data);\n\t\t\t\tidentityWindow.postMessage(data, '*');\n\t\t\t\t}\n\n\t\t\t\tif (e.data.method == 'login' ) {\n\t\t\t\t\t//console.log('login');\n\t\t\t\t\t//console.log(e.data);\n\t\t\t\t\tusernow = e.data.payload.publicKeyAdded\n\t\t\t\t\t//console.log(user)\n\t\t\t\t\tsetuser(usernow)\n\t\t\t\t\t//console.log(user)\n\t\t\t\t\tdp = \"https://bitclout.com/api/v0/get-single-profile-picture/\"+ usernow +\"?fallback=https://bitclout.com/assets/img/default_profile_pic.png\"\n\t\t\t\t\tsetuserdp(dp)\n\t\t\t\t\t//console.log(user);\n\t\t\t\t\tuserPayload = e.data.payload.users[user]\n\t\t\t\t\t//console.log(userPayload)\n\t\t\t\t\tidentityWindow.close()\n\t\t\t\t\tsetlogin(true)\n\t\t\t\t\t//console.log(user)\n\t\t\t\t\tpayload = { 'publickey' : usernow }\n    \t\t\t\t\t//console.log('this is data-axios')\n    \t\t\t\t\t//console.log(data)\n\t\t\t\t\t\taxios.post(`/userlog`,payload)\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t console.log(res);\n\t\t\t\t\t\t console.log(res.data);\n\t\t\t\t\t   }).catch((err)=> {})\n\t\t\t\t\t\t   \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t})\n\n\t\tidentityWindow = window.open(identityURL + '/log-in', null, `toolbar=no, width=${w}, height=${h}, top=${y}, left=${x}`);\n    }\n    const launchLogout = () => {\n    \t\tsetlogin(false)\n    \t\tsetuserdp('')\n    \t\tsetuser('a')\n    \t\tusernow = ''\n    \t\taxios.get(`http://localhost:5001/userlog/${usernow}`)\n    \t\t\n    \t\t\n    \t\t}\n    \n\n\tif (loggedIn == false){\n    return (\n        <header>\n            <nav className=\"navbar navbar-custom\">\n\n                {/* Minted Brand Logo Left */}\n                <a href=\"/\" style={{float: 'left'}}><img src={MintedBrand} alt='brand' id='brand'/></a>\n\n                {/* Search Box */}\n               <SearchBar/>\n\n                {/* Navigation Links */}\n                <ul className='nav nav-pills'>\n                    <li><a className='nav-link home-tab active enabled' href=\"#home\" data-toggle='tab'>Explore</a></li>\n                    <li><a className='nav-link disabled' href=\"#about\" data-toggle='tab'>My Items</a></li>\n                    <li><a className='nav-link disabled'href=\"#following\" data-toggle='tab'>Following</a></li>\n                    <li><a className='nav-link' id='contact-button' href='mailto: support@minted.ist'>Contact</a></li>\n                    <li><a className='nav-link' href='#create' data-toggle='tab' onClick={launchLogin}>Login</a></li>\n                </ul>\n            </nav>\n        </header>\n    )}\n    \n    else{\n    \n    return (\n        <header>\n            <nav className=\"navbar navbar-custom\">\n\n                {/* Minted Brand Logo Left */}\n                <a href=\"/\" style={{float: 'left'}}><img src={MintedBrand} alt='brand' id='brand'/></a>\n\n                {/* Search Box */}\n               <SearchBar/>\n\n                {/* Navigation Links */}\n                <ul className='nav nav-pills'>\n                    <li><a className='nav-link home-tab active enabled' href=\"#home\" data-toggle='tab'>Explore</a></li>\n                    <li><a className='nav-link disabled' href=\"#about\" data-toggle='tab'>My Items</a></li>\n                    <li><a className='nav-link disabled'href=\"#following\" data-toggle='tab'>Following</a></li>\n                    <li><a className='nav-link' id='contact-button' href='mailto: support@minted.ist'>Contact</a></li>\n                     <li><a className='nav-link disabled' id='dp' href='#'><img style={{height:50,width:50}} src={userdp}/></a></li>\n                    <li><a className='nav-link' href='#create' data-toggle='tab' onClick={launchLogout}>Logout</a></li>\n                </ul>\n            </nav>\n        </header>\n        )\n   }\n    \t\t\n}\n\nexport default Header\n"]},"metadata":{},"sourceType":"module"}